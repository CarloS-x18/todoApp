<div class="mt-5 text-center text-white">
  <h1>Todo App</h1>
  <hr>
</div>

<form #form="ngForm"
      class="row mt-4 mb-5"
      autocomplete="off"
      (ngSubmit)="saveTask()">
  <div class="input-group mb-3">
    <input class="form-control"
           type="text"
           [(ngModel)]="todo"
           name="todo"
           placeholder="What do you have pending?"
           required
           minlength="3">
    <button class="btn btn-primary col-3 col-sm-2"
            type="submit">
      Add
    </button>
  </div>
  <span class="alert alert-danger text-center col-8"
        *ngIf="todoValid">
    Your task must have at least 3 letters
  </span>
</form>

<div class="col justify-content-center text-white">
  <h2 class="text-center text-muted mb-3">{{ ( tasks.length > 0 ) ? 'Tasks to complete' : 'You have no pending tasks...' }}</h2>
  <div *ngFor="let task of tasks; let i = index">
    <div class="task-card mb-3">
        <p>{{ task }}</p>
        <div class="task-card__buttons">
          <button mat-raised-button color="accent"
                  (click)="taskComplete( task, i )">
            <mat-icon>
              check
            </mat-icon>
          </button>
          <button mat-raised-button color="warn"
                  (click)="deleteTask( i )">
            <mat-icon>
              delete
            </mat-icon>
          </button>
        </div>
    </div>
  </div>
</div>

<div class="tasks-complete mt-5"
     *ngIf="tasksComplete.length > 0">
  <h2>Completed Tasks</h2>
  <div class="mb-3" *ngFor="let task of tasksComplete.slice(); let i = index">
    <div class="alert alert-success task-complete">
      <div class="text">
        <span>{{ task.task }}</span>
        <span>{{ task.date | date:'M/d/yy, h:mm a' }}</span>
      </div>
      <div class="button-container mt-3">
        <button mat-raised-button
                (click)="removeTaskComplete(i)">
          Remove
        </button>
      </div>
    </div>
  </div>
</div>
